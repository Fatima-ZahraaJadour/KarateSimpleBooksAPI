[{"line":2,"elements":[{"line":6,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'https:\/\/simple-books-api.glitch.me'","result":{"duration":1655400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7,"doc_string":{"content_type":"","value":"11:18:39.943 karate.env system property was: null \n","line":7}}]},{"start_timestamp":"2022-11-25T10:18:39.884Z","line":9,"name":"verify the creation of token after an authentication","description":"","id":"verify-the-creation-of-token-after-an-authentication","type":"scenario","keyword":"Scenario","steps":[{"name":"def generateEmail =","result":{"duration":2360700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10,"doc_string":{"content_type":"","value":"function() {\n     var DataStorage = Java.type('helpers.DataStorage');\n     var dS = new DataStorage();\n     return dS.generate();\n}","line":10}},{"name":"def email = call generateEmail","result":{"duration":1605200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"path 'api-clients'","result":{"duration":415900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":20},{"name":"request","result":{"duration":32670200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":21,"doc_string":{"content_type":"","value":"{\n  \"clientName\": \"fatima\",\n  \"clientEmail\": \"##(email)\"\n }","line":21}},{"name":"method post","result":{"duration":1687759500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":28,"doc_string":{"content_type":"","value":"11:18:40.366 request:\n1 > POST https:\/\/simple-books-api.glitch.me\/api-clients\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 92\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/18.0.2.1)\n1 > Accept-Encoding: gzip,deflate\n{\"clientName\":\"fatima\",\"clientEmail\":\"fatimac67d35d5-1a2a-4086-8cad-5d91a1549a25@gmail.com\"}\n\n11:18:41.808 response time in milliseconds: 1438\n1 < 201\n1 < Date: Fri, 25 Nov 2022 10:18:32 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 82\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"52-j3FvRkfKjRRKI4kc9NkSnSd6pNo\"\n{\"accessToken\":\"e054ac4e55291ea7990b109e244938810eacbbd428988bac517baf3d05501b58\"}\n\n","line":28}},{"name":"status 201","result":{"duration":190000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":29},{"name":"match $ == {\"accessToken\":\"#string\"}","result":{"duration":13941200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"def token = $.accessToken","result":{"duration":1506700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":31},{"name":"print token","result":{"duration":1696500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":32,"doc_string":{"content_type":"","value":"11:18:41.829 [print] e054ac4e55291ea7990b109e244938810eacbbd428988bac517baf3d05501b58 \n","line":32}},{"name":"def doStorage =","result":{"duration":2326600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33,"doc_string":{"content_type":"","value":"function(args) {\n     var DataStorage = Java.type('helpers.DataStorage');\n     var dS = new DataStorage();\n     return dS.write(args);\n}","line":33}},{"name":"def result = call doStorage {'key': '##(token)'}","result":{"duration":50838100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":41}],"tags":[{"name":"@tag2","line":1}]},{"line":6,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'https:\/\/simple-books-api.glitch.me'","result":{"duration":1615600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7,"doc_string":{"content_type":"","value":"11:18:39.943 karate.env system property was: null \n","line":7}}]},{"start_timestamp":"2022-11-25T10:18:39.884Z","line":43,"name":"verify that 'type' filter works correctly  on the list of books endpoint","description":"","id":"verify-that-'type'-filter-works-correctly--on-the-list-of-books-endpoint","type":"scenario","keyword":"Scenario","steps":[{"name":"path 'books'","result":{"duration":343400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":44},{"name":"param type = 'fiction'","result":{"duration":1343900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"method get","result":{"duration":2351879600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":46,"doc_string":{"content_type":"","value":"11:18:40.365 request:\n1 > GET https:\/\/simple-books-api.glitch.me\/books?type=fiction\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/18.0.2.1)\n1 > Accept-Encoding: gzip,deflate\n\n\n11:18:42.438 response time in milliseconds: 2073\n1 < 200\n1 < Date: Fri, 25 Nov 2022 10:18:33 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 283\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"11b-o9uRXcrIVMM6g2P09v+quQbTy2s\"\n[{\"id\":1,\"name\":\"The Russian\",\"type\":\"fiction\",\"available\":true},{\"id\":3,\"name\":\"The Vanishing Half\",\"type\":\"fiction\",\"available\":true},{\"id\":4,\"name\":\"The Midnight Library\",\"type\":\"fiction\",\"available\":true},{\"id\":6,\"name\":\"Viscount Who Loved Me\",\"type\":\"fiction\",\"available\":true}]\n\n","line":46}},{"name":"status 200","result":{"duration":33200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":47}],"tags":[{"name":"@tag2","line":1}]},{"line":6,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'https:\/\/simple-books-api.glitch.me'","result":{"duration":1615000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7,"doc_string":{"content_type":"","value":"11:18:39.943 karate.env system property was: null \n","line":7}}]},{"start_timestamp":"2022-11-25T10:18:39.884Z","line":50,"name":"verify the successful creation of an order with an available book","description":"","id":"verify-the-successful-creation-of-an-order-with-an-available-book","type":"scenario","keyword":"Scenario","steps":[{"name":"def doStorage =","result":{"duration":2204300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51,"doc_string":{"content_type":"","value":"function(args) {\n    var DataStorage = Java.type('helpers.DataStorage');\n    var dS = new DataStorage();\n    return dS.read(args);\n}","line":51}},{"name":"path 'orders'","result":{"duration":266200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":58},{"name":"def result = call doStorage 'key'","result":{"duration":2179000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"header Authorization = 'Bearer '+ result","result":{"duration":11398900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":60},{"name":"request","result":{"duration":14920400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":61,"doc_string":{"content_type":"","value":"{\n  \"bookId\": 1,\n  \"customerName\": \"John\"\n}","line":61}},{"name":"method post","result":{"duration":3342100300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":68,"doc_string":{"content_type":"","value":"11:18:40.366 request:\n1 > POST https:\/\/simple-books-api.glitch.me\/orders\n1 > Authorization: Bearer null\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 34\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/18.0.2.1)\n1 > Accept-Encoding: gzip,deflate\n{\"bookId\":1,\"customerName\":\"John\"}\n\n11:18:43.459 response time in milliseconds: 3093\n1 < 401\n1 < Date: Fri, 25 Nov 2022 10:18:34 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 33\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"21-bG6N9MGZ9+XoO\/KuGDSYhW5FJyc\"\n{\"error\":\"Invalid bearer token.\"}\n\n","line":68}},{"name":"status 201","result":{"duration":115000,"error_message":"status code was: 401, expected: 201, response time in milliseconds: 3093, url: https:\/\/simple-books-api.glitch.me\/orders, response: \n{\"error\":\"Invalid bearer token.\"}\nclasspath:tests\/simpleBooksv1.feature:69","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":69,"doc_string":{"content_type":"","value":"11:18:43.461 classpath:tests\/simpleBooksv1.feature:69\nThen status 201\nstatus code was: 401, expected: 201, response time in milliseconds: 3093, url: https:\/\/simple-books-api.glitch.me\/orders, response: \n{\"error\":\"Invalid bearer token.\"}\nclasspath:tests\/simpleBooksv1.feature:69\n","line":69}},{"name":"print response","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":70}],"tags":[{"name":"@tag2","line":1}]},{"line":6,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'https:\/\/simple-books-api.glitch.me'","result":{"duration":267900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7,"doc_string":{"content_type":"","value":"11:18:41.890 karate.env system property was: null \n","line":7}}]},{"start_timestamp":"2022-11-25T10:18:41.889Z","line":72,"name":"verify the unsuccessful creation of order when the book is out of stock","description":"","id":"verify-the-unsuccessful-creation-of-order-when-the-book-is-out-of-stock","type":"scenario","keyword":"Scenario","steps":[{"name":"def doStorage =","result":{"duration":1242700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":73,"doc_string":{"content_type":"","value":"function(args) {\n    var DataStorage = Java.type('helpers.DataStorage');\n    var dS = new DataStorage();\n    return dS.read(args);\n}","line":73}},{"name":"path 'orders'","result":{"duration":472500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":80},{"name":"def result = call doStorage 'key'","result":{"duration":1383300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":81},{"name":"header Authorization = 'Bearer '+ result","result":{"duration":672100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":83},{"name":"request","result":{"duration":287100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":84,"doc_string":{"content_type":"","value":"{\n\"bookId\": 2,\n\"customerName\": \"John\"\n}","line":84}},{"name":"method post","result":{"duration":989587100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":91,"doc_string":{"content_type":"","value":"11:18:41.900 request:\n1 > POST https:\/\/simple-books-api.glitch.me\/orders\n1 > Authorization: Bearer e054ac4e55291ea7990b109e244938810eacbbd428988bac517baf3d05501b58\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 34\n1 > Host: simple-books-api.glitch.me\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/18.0.2.1)\n1 > Accept-Encoding: gzip,deflate\n{\"bookId\":2,\"customerName\":\"John\"}\n\n11:18:42.887 response time in milliseconds: 987\n1 < 404\n1 < Date: Fri, 25 Nov 2022 10:18:33 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 55\n1 < Connection: keep-alive\n1 < x-powered-by: Express\n1 < etag: W\/\"37-EwJEhBGIU3KiOH3ypr8c6yRFaMQ\"\n{\"error\":\"This book is not in stock. Try again later.\"}\n\n","line":91}},{"name":"status 404","result":{"duration":20400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":92}],"tags":[{"name":"@tag2","line":1}]}],"name":"tests\/simpleBooksv1.feature","description":"Simple Books API\nThis API allows you to reserve a book.\r\n  The API is available at https:\/\/simple-books-api.glitch.me","id":"simple-books-api","keyword":"Feature","uri":"tests\/simpleBooksv1.feature","tags":[{"name":"@tag2","line":1}]}]